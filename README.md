
Platform
========================================================
* Host OS: Windows 7/8, 4GB Memory, Core i5 or i7, with CUDA support is a plus.
* Target OS: Android 4.2/4.4, Android 5
* Target Platform: CLT PR phone, Nexus 5, Nexus 7, Memo pad and Fugu

Pre-requirements
========================================================
* Java JDK 1.5 or greater http://www.oracle.com/technetwork/java/javase/downloads/index.html
* Android SDK http://developer.android.com
* Python 2.7 https://www.python.org/download/

Installation
========================================================
1. Download DaVinci package 2.2.5 or higher from \\ccr\ec\proj\ssg\dpd\BiTS\DaVinci_Customers\Releases\2.2.5\DaVinci_Install.zip
2. Unzip DaVinci_Install.zip, run Single_Click_Installation.bat
3. Download Crosswalk Top App Test Suite from https://github.com/crosswalk-project/crosswalk-test-suite/tree/master/misc/topapp-android-tests

Preconditions
========================================================

Android Settings:
===================
    1.    Developer options:
                Enable usb debugging
                Stay awake
                Do not lock screen
    2.    Security:
                Allowing app installs from "Unknown sources"
    3.    Display:
                Sleep: Max value (30 minutes or never)
                Brightness: Low
    4.    Power Saver:
                Disable Blue tooth, GPS
    5.    WIFI:
                Enable and keep connected
    6.    Charging:
                Keep charging.

config.json:
===================
Update key fields of config.json in /topapp-android-tests/script/ folder:

{
  "davinci": {
    "davinci_path": "C:/Intel/BiTS/DaVinci/",
  },
  "runtimelib": {
    "runtimelib_package": "org.xwalk.core",
    "runtimelib_apk": "XWalkRuntimeLib.apk"
  },
  "test_result": {
    "test_result_dir": "C:/SampleAppTest/result",
    "test_result_xml_name": "wrt-top-app-android-tests-result.xml"
  },
  "device": [
    {"device_id":"MedfieldC3567E1E", "device_name":"ZTE Geek V975", "device_arch": "x86"}
  ]
}

How to Run
========================================================
1. cd topapp-android-tests
2. python run.py -v 11.39.251.0
   //11.39.251.0 means the version of RuntimeLib.apk

   python run.py -v 11.39.251.0 -a x86 -d MedfieldC3567E1E
   //You can also type commands below instead if you don't want to set "device_id" and "device_arch" in config.json:

Test Results:
========================================================
* The test results will be located in:
    "test_result": {
        "test_result_dir": "C:/SampleAppTest/result",
    }
* [DeviceID]/[DateTime]/[test.result.xml] is the XML file for uploading to WRT QA report.
* [TestResult_DateTime]/Smoke_Test_Report.csv is the csv file (not WRT QA report compatible) generated by DaVinci which is for manual re-checking.
* [_DaVinci_RnR_Logs] is generated by Davinci including detailed test logs and results.

Issues
========================================================
* If you encounter 'wmic' relevant error, add environment variables %SystemRoot%\System32\Wbem; in PATH.


